\chapter{背景}
\label{background}
本章では，電車の遅延に関する人々への影響や鉄道会社が行っている公式の情報発信に
ついて述べ，そこに生じる問題点を示し，その解決のために本論文で提案するビッグデータ
解析に関連した技術や研究について述べる．

\section{電車}
電車は多くの人に通勤，通学の手段として活用されている．しかし，遅延や運行見
合わせなど問題点もある．本説では，電車の問題点と鉄道会社が行っている公式の
対応について示す．

\subsection{電車の問題点}
\label{background:railroads:problems}
\begin{figure}
    \begin{center}
      \includegraphics[scale=0.60]{./pdf/kokudokotsusho_users_num}
      \vspace{-5mm}
      \caption{日本の輸送機関別輸送人員数}
      \label{fig:kokudokotsusho_users_num}
    \end{center}
\end{figure}

日本において，多くの人が通勤，通学の手段として電車を活用している．電車の
利点は短時間で長距離移動することができるという点である．また車と違い道路
の渋滞もなく，時刻表通りに運行が行われるため利用者は正確な移動時間を考慮
した上で利用することができる．そのため，様々な場面で様々な人に活用されて
いる．国土交通省が公表している旅客の輸送機関別輸送量の
図\ref{fig:kokudokotsusho_users_num}\cite{kokudokotsusho:num_of_users}
によると，年間約230億人の日本人が交通の手段として電車を活用している．電車
の利用人数は他の輸送機関よりも多く，日本において電車はとても重要な役割を
果たしている．
\\

しかし，問題点もある．時間に正確であるということから多くの人に活用されて
いる電車だが，事故や整備点検などによって遅延や運行見合わせなどが生じてし
まうことが多くある．東洋経済オンラインの記事\cite{delay:higaigaku}の中で
岩倉成志教授によると，電車の遅延による都区内への通勤にかかる社会的費用は
年間2180億円にもなると推測されている．正確な数字とは言えないが，電車の利
用者にとって電車の遅延がとても多くの損失を与えていると言える．
\\
%http://toyokeizai.net/articles/-/10756

\subsection{鉄道会社の遅延に対する対応}
\label{background:railroads:correspondence}
\begin{figure}
    \begin{center}
      \includegraphics[scale=0.60]{./pdf/jr_delays_page}
      \vspace{-5mm}
      \caption{JR列車運行情報サービスページ}
      \label{fig:jr_delays_page}
    \end{center}
\end{figure}
\begin{figure}
    \begin{center}
      \includegraphics[scale=0.60]{./pdf/odakyu_twitter_page}
      \vspace{-5mm}
      \caption{小田急線Twitterアカウントページ}
      \label{fig:odakyu_twitter_page}
    \end{center}
\end{figure}

電車は遅延や運行見合わせなどによって，時刻表通りの運行を行えていないこと
が多々ある．遅延や運行見合わせに対して，各鉄道会社は様々な対応を行ってい
る．リアルな対応としては，電工掲示板に状況の表示や駅で遅延証明書の配布な
どが行われている．リアルな対応はその場に行かなければ電車の運行状況を知る
ことができないため，利用者にとってはとても都合が悪い．そのため，駅に行か
ずに電車の運行状況を確認できるように各鉄道会社はオンラインで情報を発信し
ている．オンラインでの情報発信の仕方を以下に挙げる．
\begin{description}
\item {(1)} 公式サイトによる列車運行情報提供ページ\\
　各鉄道会社はそれぞれWebサイトを持っていることが多い．それらのWebサイト
では企業情報，ニュース，特急チケットの予約など様々の情報が発信されている．
それらの情報の1つとして，列車の運行状況を発信しているページが存在する．
図\ref{fig:jr_delays_page}\cite{jr:service_status}のように駅に行かずに列
車の運行情報を知ることができる．このページをうまく活用すれば，運休してい
る路線を回避しタクシーを使うなど駅に行かずに最善の経路を選択することがで
きる．しかし、問題点もある．公式情報ということもあり遅延や運行見合わせな
どが発生してから配信まで時間がかかるという点である．そのため，情報の信用
性は高いがリアルタイムに乏しい．
\item {(2)} Twitter公式アカウント\\
　Twitterに公式アカウントを持っている鉄道会社もある．そのアカウントをフォ
ローすることによって，TwitterをやっているユーザはTwitterを見ている中で電車
の運行情報を得ることができる．\ref{fig:odakyu_twitter_page}\cite{twitter:odakyu}
しかし，問題点もある．公式アカウントなので情報も公式のものなので，こち
らも投稿までに時間がかかります，また，投稿される情報は実際に発生してい
る遅延よりも少ない．
\end{description}


\section{SNS}
SNSとは，ソーシャルネットワーキングサービス（Social Networking Service）の
略である．社会的ネットワークをWeb上に構築することできるがサービス及びサイト
である．基本的な機能として，プロフィール機能，メッセージ機能，ユーザ間にお
ける相互リンク機能と検索機能，ブログ機能，コミュニティ機能などがある．モバ
イル端末の普及によって，手軽に利用することが可能になり多くの人に活用されて
いる．世界ではFacebook，Twitter，Google+，日本ではMobage，GREE，Ameba，mixi
などがあり，多くの人に利用されている．

\subsection{ソーシャルセンサとしてのSNS}
世界中のSNSユーザは日々，SNSを通して様々の情報を発信している．自分や自分の
周りの状況，写真，読んだニュースの記事などを投稿することによって，SNS上の
他のユーザに向けて情報を拡散している．またSNSの情報発信・拡散スピードはテレ
ビ，ラジオ，新聞，雑誌・書籍などに比べ圧倒的に早い．This just in…News no 
longer breaks, in TweetsはあるITコンサルタントがウサマ・ビン・ラディンが
殺害された際，その一部始終をTwitterにリアルタイムに投稿していたことを記事
にしたものである．従来であれば，記者が本人に取材し記事にして既存のメディア
を通してニュースとして全世界に公開されるはずであった．しかし，Twitterを用
いてリアルタイムに情報発信・拡散されたことによって，バラク・オバマ米大統領
緊急声明を発表しウサマ・ビン・ラディンを殺害したことを明らかにする前に多く
の人がそのことを知っていた．この事実はTwitterなどのSNSがリアルタイム性の
高い情報発信媒体であることが言える出来事である．東日本大震災ではTwitterや
facebookが知人や家族の安否，地震の被害状況，電車の運行状況についての情報
収集の手段としてとても重要な役割を果たした．近年では，人を物理センサと同様
の機能を持つ一種のセンサと考え，ソーシャルメディアを活用してリアルタイムに
実世界を観測するという考えが生まれきている．

%http://jp.techcrunch.com/2011/05/02/20110501news-of-osama-bin-ladens-death-spreads-like-wildfire-on-twitter/


\section{ビッグデータ}
ビッグデータとは，従来のデータベース管理ツールやデータ処理アプリケーシ
ョンでは処理するのが困難なほど大量なデータ集合のことである．

\subsection{ビッグデータの特徴}
ビッグデータの特徴として3Vという言葉がある．3Vとは，ビッグデータの容量
（Value），種類（Variety），頻度（Velocity）の3つの特徴のことである．
以下でそれぞれの特徴について説明する．
\begin{itemize}
\item 容量（Volume）\\
近年，モバイル端末の普及に伴い多くの人がインターネットを使用するように
なった．そのため，インターネットに蓄積されるデータは膨大になってきてい
る．世界最大級のSNSであるfacebookは2012年8月時点で500TBのデータを蓄積
している．Twitterは2011年10月時点で1日に2億5000万ツイートを突破してい
る．140文字の個々のツイートのデータ量は約200バイトなので，Twitterは1日
に約8テラバイトものデータを生み出しているということになる．また，Google
は2008年時点で1日に20ペタバイトものデータを処理している．数年前に比べて，
扱うデータが膨大になってきているという点がビッグデータのVolumeという特徴
である．
\item 種類（Variety）\\
数年前に比べて，インターネットに様々な種類のデータが蓄積されるように
なってきている．データの種類はWebのログデータ，テキストデータ，画像，
動画，携帯電話やタブレット端末のGPS（Global Positioning System）など
以前は破棄されていたようなデータも蓄積されるようになってきている．特
に近年急増してきているのが，インターネット上のテキストデータ，位置情
報，アクセスログ，センサデータ，動画など従来の主流であったリレーショ
ナル・データベースでは扱うことが困難な非構造データである．以前からも
非構造データは存在し，蓄積されていた．しかし現在はただ単に蓄積するだ
けではなく，分析することによって有用な知見を得ようという点がビッグデ
ータのVarietyという特徴である．
\item 頻度（Velocity）\\
インターネット上に蓄積されるデータの発生頻度も以前に比べ，圧倒的に増
えている．全国のコンビニエンスストアで発生するPOS（Point Of Sales）
データ，ECサイトでユーザがアクセスするたびに発生するWebのクリックスト
リームデータ，Twitterに投稿されるテキストデータ，監視カメラの動画，全
国の道路に設置されている道路の渋滞検知センサや放射線を測定するセンサ
などのセンサデータ，SuicaやPASMOなどの交通系のICカードから生み出され
る乗車履歴データや電子マネーの決済履歴データである．このように365日24
時間大量のデータを生み出し続けているという点がビッグデータのVelocity
という特徴である．
\end{itemize}

\subsection{ビッグデータを支える技術}
\label{background:bigdata:technology}
ビッグデータが話題になったのは単にデータの量，種類，頻度が増えただけでは
ない．ビッグデータを汎用品のサーバを用いて蓄積し，高速に処理することがで
きるオープンソースのソフトウェア技術が生み出されたことが大きな要因の1つで
ある．以下でビッグデータが話題となった要因の技術の説明をする．
\begin{itemize}
\item Hadoop\\
Hadoopとは，Apacheが開発しオープンソースとして公開している大規模分散処理
フレームワークである．Hadoopはアプリケーションが数千ノードおよびペタバイ
ト級のデータを処理することが可能である．HadoopはGoogleが開発したMapReduce，
Google File System（GFS），Big Tableをもとに開発された．HadoopはMapReduce，
Hadoop Distributed File System（HDFS），HBaseから構成される．MapReduceとは，
膨大なデータセットに対して並列処理可能な問題をMapステップ，Reduceステップ
で処理をする処理方式のことである．MapReduceで複数台のサーバに処理を分散さ
せることによって，1台では何日もかかっていた処理を数時間で処理することが可
能になった．
\item NoSQL\\
NoSQLとは，Not only SQLの略である．従来からデータ管理として，リレーショナル
データベース管理システム（RDBMS）が活用されている．RDBMSは，SQLという標準言
語によってデータベースを操作するのに対して，NoSQLはSQLを使用しない，NoSQLは
RDBMSの否定してできたものではなく，RDBMSが得意ではないことを実行可能にした
データベースである．RDBMSとNoSQLの違いを以下に挙げる．
    \begin{itemize}
    \item[（1）] データ構造\\
    RDBMSでは，データをテーブルという表形式で集約し，データ同士の関係性を定
    義する．そうすることで厳格なデータモデルを表現している．そのためテーブル
    のカラムを事前に定義しておく必要がある．一度定義したスキーマは固定的であ
    り変更しにくい．
    NoSQLでは，キーと対応するバリューの組み合わせ，あるいは，キー・バリュー
    のペアと追加キー（カラムファミリー）によって表現されるため．データ構造が
    とても単純である．データ同士の関係も定義することができない．スキーマも定
    義する必要がなく柔軟に変更可能である．
    \item[（2）] データの一貫性\\
    RDBMSでは，ACID（Atomicity Consistency Isolation Durability）特性が実装
    されているため，データの一貫性が厳密に維持されている．一方，NoSQLデータ
    ベースではACIDのような堅牢なものではなく，Eventual Consistencyという実装
    になっており，最終的に一貫性が維持されるが，一時的には一貫性が厳密では
    ない．
    \item[（3）] 拡張性\\
    RDBMSの場合，ACIDやデータ構造を重視するため，データ量が増えたときはより
    大きなサーバに変えるスケールアップが基本であり，スケールアウトしにくい
    アーキテクチャとなっている．また，データの一貫性を厳密に行うためパフォー
    マンスの低下も起る．NoSQLデータベースの場合，スケールアウトが容易にできる
    設計になっているため拡張性に優れている．また，パフォーマンスの低下も少ない．
    \item[（4）] 耐障害性\\
    RDBMSはレプリケーションによって，複数のサーバにデータを複製し耐障害性を
    高めている．しかし，データの不整合が起った場合やレプリケーションを追加
    する際には運用上の負荷やコストが大きい．NoSQLの場合，分散環境で動作する
    ため，単一障害が少ないものが多く，障害に対する対策コストが少なく済む．
    \end{itemize}
以上のように，NoSQLはRDBMSの得意ではないこと解決する特徴が多い．
\item クラウドコンピューティング\\
クラウドコンピューティングとは，ネットワーク，サーバ，ストレージ，アプリケー
ション，サービスなどの構成可能なコンピューティングリソースの共有プールに対して，
便利かつオンデマンドにアクセスでき，最小の管理労力またはサービスプロバイダ間の
相互動作によって迅速に提供され利用できるというモデルのひとつであると，アメリカ
国立標準技術研究所は定義している．従来であれば，自分自身で物理的なサーバを用意
し，データを管理しなくてはならなかった，扱うデータ量が多くなればなるほど必要な
リソースは多くかり，全てを管理するのはとても大変である．しかしクラウドコンピュ
ーティングの技術が発達したことによって，技術者は物理的なリソースやデータ管理に
ついて考える必要がなくなり，本来の問題であるサービスや研究に集中することが可能
になった．また使用量は利用しただけ支払うという方式であり，資本の少ないスタート
アップ企業や個人でも手軽に利用することができる．この敷居の低さが，ビッグデータ
活用に大きく貢献している要因である．
\end{itemize}

\section{ビッグデータの活用}
ビッグデータは様々な場面で活用されている．商品やサービスのレコメンデーション，
行動ターゲティング広告，異常検知，サービスの改善，渋滞の予測，風邪の予測，株価
の予測など活用される対象は幅広い．ビッグデータの活用パターンは大きく分けて2×2の
4つのパターンに類型化できる．軸は「個人最適/全体最適」「リアルタイム型/バッチ型」
である．個人最適とは，分析結果の受益者が特定の個人やモノであり，特定の個人やモノ
にとって最適な情報やサービスを提供したり，最適な処理を促すものである．全体最適
とは，分析結果の受益者が特定の個人やモノではなく，その個人やモノが属するコミュ
ニティ，あるいは社会全体などマスの場合である．それぞれについて以下で説明する．

\subsection{ビッグデータの活用パターン}
ここでいくつか論文やサービスの例を挙げる予定！\\
\\
\begin{itemize}
\item 個人最適・バッチ型\\
個人最適・バッチ型とは，特定の個人やモノに関するデータを収集して，その人に最適
な商品やサービスをレコメンドしたり，そのモノに最適な処置を行ったりする場合であ
る．代表的なサービスがAmazonである．Amazonは多くのユーザの購入履歴，閲覧履歴を
収集して嗜好の似ているユーザをグループ化し，嗜好の似ているユーザの情報から商品
をレコメンドしている．そうすることで利用者に価値のある情報を提供し，購入を促進
している．これは協調フィルタリングというレコメンデーションアルゴリズムである．
\item 個人最適・リアルタイム型\\
個人最適・リアルタイム型とは，特定の個人またはモノに関するデータを収集し，その
人に最適な商品やサービスをレコメンドしたり，そのモノに最適な処置を行ったりする
場合である．ただし，バッチ型とは異なり，その人に商品やサービスをレコメンドした
り，そのモノに最適な処置を施すタイミングはコンテキストに合わせてリアルタイムに
行われる．
\item 全体最適・バッチ型\\
全体最適・バッチ型とは，多数の個人やモノが発信する情報を収集・蓄積し，蓄積した
データを一括して統計的に処理・分析することで，その個人やモノが属するコミュニテ
ィや社会全体にとって役立つ統計情報をフィードバックしたり，最適化を図る場合を指
す．ただし，最適化したりするタイミングは問わない．
\item 全体最適・リアルタイム型\\
全体最適・リアルタイム型とは，多数の個人やモノが発信する情報を収集・蓄積し，蓄
積したデータを一括して統計的に処理・分析することで，その個人やモノが属するコミ
ュニティや社会全体にとって役立つ情報をコンテキストに合わせてリアルタイムにフィ
ードバックしたり，最適化する場合である．
\end{itemize}

\section{本論文の着眼点}
第\ref{background:railroads:problems}節や第\ref{background:railroads:correspondence}節
で述べた通り，電車には遅延，運転見合わせ，その対応に問題がある．そこで
電車利用者が急な遅延や運転見合わせで混乱しないように，リアルタイムに電
車のダイヤの乱れを知る方法が必要である．本研究では，Twitterユーザを1つ
のセンサとしてみなし，発信される電車に関するテキストデータを第\ref{background:bigdata:technology}節
で説明した技術を用いて収集，蓄積，分析することによって，列車の運行状況
をモニタリングし，ユーザに提供するアプリケーションを開発する．Twitter
を活用する理由は，リアルタイム性を重視するためである．

\section{まとめ}
本章では，電車の遅延，運行見合わせ，その対応に問題があることを示した．
またビッグデータの概念について述べ，ビッグデータを活用することによっ
て，日常の様々な問題を解決した研究やサービスを挙げた．本研究では，
Twitterに投稿された電車に関するツイートを収集，蓄積，分析することに
よって，列車の運行状況をモニタリングし，ユーザに通知するアプリケー
ションの開発を目指す．

%%% Local Variables:
%%% mode: japanese-latex
%%% TeX-master: "../nakajima_bthesis"
%%% End:
