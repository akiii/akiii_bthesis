\chapter{デジタル情報とプライバシ}
\label{background}
本章では，デジタル情報の収集の現状を述べ，3つの手法に分類するとともに，
観測者ごとに取得できる情報について述べた．本論文はホストが発信
する情報に着目することを示した．

\section{デジタル情報収集の現状}
今日，デジタル技術の発展によって，情報の収集方法は多岐に渡るようになっ
た．これによって，サービス側はユーザに応じたサービスを提供することで，
ユーザはより質の高いサービスを受けることができる．しかし，同時に個人と
関係のある情報がネットワークでやり取りされるようになり，ユーザのプライ
バシは脅かされている可能性がある．そこで本論文では，ユーザの情報はどの
ようにやり取りされるのかという現状を3つのモデルに分類する．また，デジタ
ル情報を収集するにあたり，ユーザにとって様々な利点と欠点が発生する．本
章ではその技術の例を具体的に挙げる．

\subsection{ユーザに発行した識別要素に基づいて情報を収集する手法}
\begin{figure}
    \begin{center}
      \includegraphics[scale=0.60]{./pdf/model_1}
      \vspace{-5mm}
      \caption{クライアントがサーバから付与された識別要素を管理}
      \label{fig:model_1}
    \end{center}
\end{figure}

デジタル情報を収集する上で，ユーザを判別する手法に，識別要素を判別対象と
するユーザに付与する手法がある．これは，サーバ側はコンテンツの情報やユー
ザ情報を識別要素として発行し，ユーザ自身に保持させる仕組みである．これを
利用することによって，ユーザに応じた個別のサービスが可能となる．どのよ
うにそれが実行されるかを図\ref{fig:model_1}に示す．


まず，サーバはクライアントが接続をしてきた場合に識別要素を発行する．
この識別要素に含まれている情報はユーザを識別するためのIDや，サービス設定を
保存するものなどである．識別要素を保持しているユーザが再度その
サーバを利用する際に，自身が保有する識別要素をサーバに送信する．こ
れによって，サーバーは識別要素として示される情報をもとに，ユーザに応じた
情報を送信する．

ユーザは，識別要素を自身で管理するが，識別要素を利用していることを理解した
上で容易に管理できる場合と，本人が知り得ぬところで識別要素を付与され，管
理が難しい場合がある．例えば，HTTP Cookieは多くのサイトで利用され，Webブ
ラウザの設定でCookieを制限できることが容易である．最近は，Firefox\cite{firefox:2010}などのブ
ラウザは設定によって，HTTP Cookieや履歴など痕跡を残さずにWebアクセスが
可能となるため，HTTP Cookieの利用に関してユーザのプライバシに配慮がされ
ていると言える．

HTTP Cookieとは別に，本人が知り得ぬところで識別要素を付与され，管理が難
しいという識別要素の例にFlash Cookieが挙げられる．このFlash
Cookieは，Webブラウザだけでは削除することはできない．保存できる情報量
は，HTTP Cookieが4KBに対して，100KBとより多くの情報が記録できる．Flash
Cookieを確認・管理する方法も，Adobe\cite{adobe}のFlash Cookieのページで
設定しなければならない．また，HTTP Cookieに比べて認知度が低いため，存在
を知らないユーザも多い．Flash Cookieの危険性の調査がアメリカで行われ
た\cite{Flash:2009}．この調査ではQuantCast\cite{quantcast:2009}に掲載さ
れているユーザ利用率が高い上位100サイトのうち，54のサイトでFlash
Cookieが利用されている．そのため，ユーザが管理しにくい，もしくは知りえ
ぬ識別要素がネットワーク上でやり取りされていることを示している．このよ
うにFlash Cookieはユーザが知り得ぬところで識別要素が付与され，かつユー
ザ自身が識別要素の管理が困難である．そのため，プライバシを脅かす可能性
がある．

\subsection{ユーザ自身がデータを直接相手に送信する手法}
\begin{figure}
    \begin{center}
      \includegraphics[scale=0.60]{./pdf/model_2}
      \caption{ユーザがサーバに情報を直接送信}
      \label{fig:model_2}
    \end{center}
\end{figure}

ユーザが自身のホストにアプリケーションをインストールする手法や，情報を
サーバに送る手法などが挙げられる．そのモデルを図\ref{fig:model_2}に示す．
ユーザが同意した上で，アプリケーションのインストールを行い，サービスに
ログインした状態でサイトを閲覧などをすることで，サーバに情報を送信する．
品質向上のためにバグレポートや利用履歴を送信するなどの機能を備えたアプ
リケーションもその一例である．また，Webサイト閲覧時にログインをした状態
でWebページにアクセスすると，おすすめの情報を提供するレコメンドサービス
などもAmazonをはじめとして多く存在する．

既存研究としては，使用するホストなどの端末にエージェントをインストールすること
によって，ユーザの傾向や振る舞いを識別する手法などがある．このアプリケー
ションによる研究は，高度なパーソナライズ実現のためのユーザプロファイル
統合サービスエージェントの設計\cite{agent:2005}をはじめとして広く研究さ
れている．他にも，インターネット上でのトレンドを知る調査にもこのような
手法は利用されている．ネット視聴率白書2008-2009\cite{net_rating:2008}で
もこの手法が採用されている．しかし，これらの手法はクライアントすべてに
アプリケーションを導入しなければならないため，情報を取得した側のコスト
が高い．また，アカウント名やパスワードを利用して，サービスにログインす
る場合もこのモデルに含まれる．サービスに同意を得た上でアカウントを作成
し，ログインして情報を発信するためである．

\subsection{ユーザが発信する情報を受動的に取得する手法}
\label{background:passive}
ユーザが通信をする際にネットワーク全体や周囲に対して情報をブロードキャ
ストやマルチキャストによって通知する場合がある．また，BluetoothやRFIDな
ど機器を利用して，情報を発信する方法もある．それらの状態を取得して，サー
ビスを提供したり，トラフィック情報を収集することができる．また，ネット
ワークにおいて通信のやりとりからアプリケーションを推測するなど，データ
収集側は受動的に個人情報を収集する．そのモデルを図\ref{fig:model_3}に
示す．

\begin{figure}
    \begin{center}
      \includegraphics[scale=0.60]{./pdf/model_3}
      \caption{ユーザが全体に情報を発信し，受信側がデータを処理}
      \label{fig:model_3}
    \end{center}
\end{figure}


トラフィックを分析する事によって，個人情報を取得することができるDeep
Packet Inspection(DPI)と呼ばれる技術がある．この技術はリアルタイムにフ
ローパターンやパケットの特徴や振る舞い，パケットの制御情報などからトラ
フィックを解析する技術である．この技術利用して行動分析型ターゲット広告
をする企業にNebuAd\cite{nebuad:2008}が挙げられる．NebuAdはユーザの同意
を得てサービスを提供する代わりに，ユーザの行動を分析して広告するという
サービスを提供している．取得した情報をデータベース化し，その統計からア
プリケーションの特定を行う．日本国内でも，ISPがP2Pプロトコルを利用して
いるホストのトラフィック制御にこの技術は利用している．しかし，この技術
は通信の秘密に抵触する可能性があるというデメリットを保持している．

受動的にトラフィックを収集，解析する研究は多く行われている．例えば，ネッ
トワークトラフィックに着目することでセキュリティインシデントをリアルタ
イムで発見する研究にPassive Network Discovery for Real Time Situation
Awareness\cite{annie:2004}などがある．この研究は様々なPassive finger
printingを利用することによって，ネットワークに負荷をかけることなく情報
を取得し，ユーザを特定する．この研究で用ているPassive finger printingに
よって取得できる情報は稼働中のホストやOS情報，ホストの役割，提供サービ
ス，プロトコル，ネットワークのIPアドレス設定である．他にも，BLINC :
Multilevel traffic classification in the dark\cite{blinc:2005}はパケッ
トのヘッダ情報を利用してネットワークに流れるプロトコルやアプリケーショ
ンを把握する研究など様々である．


このように，デジタル情報を収集する上で様々な技術がある．その反面，これ
らの技術を利用することで，ユーザのプライバシは脅かされる可能性がある．
プライバシを脅かされる情報はどのようなものがあるのかを述べる．

\section{プライバシの脅威となる情報}
\label{background:thread}
ユーザにとってネットワーク上でプライバシの脅威となる情報について述べる．ネッ
トワークの構成やレベルにおいて，ユーザやその通信内容の匿名性はある程度
保持される．しかし，情報によってはネットワーク上でユーザを判別・追跡す
ることができる．ここで述べる情報とはユーザを特定できる識別要素であり，ユー
ザが利用している機器や情報が一意に特定できる情報を指す．

ネットワーク上でのユーザを一意に特定できる識別要素は多くあるが，ユーザが
利用する情報だけではない．以下に具体例を数点紹介する．

\begin{itemize}
\item クレジットカード情報\\
　クレジットカードは，商品購入やサービスを受ける際の決済方法に利用される．
クレジットカードには契約番号や名前，セキュリティコードなどが記載されて
いる．契約番号は固有であり，ユーザを分ける識別要素となる．
クレジットカード決済を利用できるサービスや店は多く，ユーザの購買履歴を
閲覧することで，クレジットカードを保有しているユーザの好みの傾向や行動
を追跡することが可能となる．

\item 携帯電話の固有ID\\
  　携帯電話の固有IDを利用したサービスにかんたんログインというものがある．
  携帯電話の固有IDで容易にユーザの認証をすることができる．その反面，一
  意に情報が知られてしまうと，変更が難しいため，悪用される危険がある．
\item 自動車ナンバ\\
  　自動車のナンバを収集し，犯罪捜査や証拠として扱うシステムが自動車ナ
  ンバ自動読み取り装置(Nシステム)である．これは，警視庁が各拠点に設置し
  ている．車のナンバは同じものがない一意の識別要素であるため，車のナンバ
  を利用することで，その持主の移動情報を取得することができる．
\item ICカード\\
  　PASMO\cite{pasmo}やSuica\cite{suica}に代表されるように，ICカードの
  利用機会が増加している．ICカードには固有のIDが割り当てられてお
  り，IDからユーザを識別することができる．また，交通機関や買い物の精算
  をした場合，ICカードに記録が残るため，ユーザの行動履歴や場所情報，場
  合によっては住所を取得することができる．
\item ホスト情報\\
  　ホストに関する情報は個人情報となりやすい．一意にホストを特定するこ
  とができるMACアドレスや，ホストの名前などホストに関する情報が挙げられ
  る．他にも，ホストから発信する情報から，ユーザの行動履歴や傾向を分析
  することができる．
\item サービスアカウント名\\
  　Google\cite{google}をはじめとするサービスはアカウント名を付与されて
  ログインすることでサービスを受けることができる．アカウント登録の際に
  は個人情報を入力する場合がある．ログイン時のユーザの行動履歴を追うこ
  とで，よりユーザに応じたサービスが可能になる．また，個人情報を入力す
  ることや，Webページでのアクセス履歴など，アカウント情報が多くのユーザ
  のプライバシに関する情報を含む場合がある．
\end{itemize}

\section{ユーザのプライバシの考慮}
近年，個人情報に関する事件が多発したため，サービス、コンテンツ提供者も
ユーザのプライバシについて対策する必要がある．プライバシの起源
は，Samuel D.Warren，Louis D.Brandeisらが1980年に発表したThe Right to
Privacy\cite{privacy:1890}にあるthe right to be let aloneであると言われ
ている．そこからプライバシは個人に関する情報が本人に同意を得ることなく
利用されないことを指す．近年は情報化に伴ない，様々なプライバシを守る法
律や，技術が確立されている．

このような情報化の背景により，ユーザも利用する企業やサイトがユーザプラ
バシを守るかという点に注意を払うようになった．サービスやサイトが
プライバシ対策を施しているかどうかの判断基準の一つにプライバシマーク制
度\cite{privacymark:2009}がある．これは日本工業規格JIS Q 15001個人情報
保護マネジメントシステムの要求事項に適合して、個人情報について適切な保
護措置を講ずる体制を整備している事業者等を認定する制度であり，プライバシ
マークをサイトに記載している．図\ref{fig:pmark}にプライバシマークのサン
プルを示す．

\begin{figure}[htbp]
  \begin{tabular}{cc}
   \begin{minipage}{0.5\textwidth}
    \begin{center}
      \includegraphics[scale=0.60]{./figure/pmark.eps}
      \caption{プライバシマークサンプル}
      \label{fig:pmark}
    \end{center}
   \end{minipage}
   \begin{minipage}{0.5\textwidth}
    \begin{center}
      \includegraphics[scale=1.00]{./figure/truste.eps}
      \caption{TRUSTeマークサンプル}
      \label{fig:truste}
    \end{center}
   \end{minipage}
  \end{tabular}
\end{figure}

このような認証マークをほどこす事例は数多くあり，TRUSTeもその一つであ
る．TRUSTeは情報の完全公開と利用者の同意を基本理念としてお
り、1980年9月23日に経済協力開発機構の理事会で採択された「プライバシー保
護と個人データの国際流通についての勧告」の中に記述されている，8つの
原則をもとにしている．図\ref{fig:truste}にそのサンプルマークを示す．
これらのマークを付与している所では，個人情報の利用規約を記載し，ユーザ
に同意を得るケースが多い．これらのマークをサイトに載せることによって，
利用者はそのサイトを信頼できるかの基準とすることができる．

企業だけではなく，通信事業者にもユーザのプライバシを保護する法律が存在
する．電気通信事業法第4条第1項で通信の秘密において"電気通信事業者の取
扱中に係る通信の秘密は、侵してはならない"として定めている．

通信の秘密が焦点となった例に，NTTのぷらら\cite{plala:2009}がWinny規制サー
ビス提供が通信の秘密に抵触する恐れがあることが総務省から通達されるとい
う出来事があった．これは，NTTのぷららがWinnyの利用を禁止するために，ユー
ザの通信を閲覧し，規制するというものである．ここで焦点になったのはユー
ザの同意を得ていないという点である．この通達を受け，ユーザの同意を得る
という条件の下でWinnyの規制サービス\cite{plala_news:2009}に修正した．日
本国外でもこのような事例が多くある．前述した米NenbuAdでは，ユーザの同意
を得るオプトアウト形式でユーザの通信を取得して広告を出すというサービス
を展開していたが，多くの提携先やユーザが難色を示し，最終的にはCEOが辞任しアメリ
カから撤退するという事例があった．これらの事例から，個人情報を収集・
解析をする際には，ユーザの同意や理解を得ることが必要と言える．

また，個人情報を所得管理する側が利用する技術は多岐に渡る．
例えば，ユーザの通信をすべて暗号化することや，データの集計して統計にする際に
ランダムに変数を変化させるk-匿名技術\cite{k-auth:2007}などがあげられる．
これによって，ユーザのプライバシを侵害しないまま，統計を取ることが可能になった．

他にもユーザのプライバシを保護する法律に電波法が挙げられる．
電波法にも秘密の保護として第五十九条に
"何人も法律に別段の定めがある場合を除くほか、特定の相手方に
対して行われる無線通信（電気通信事業法第四条第一項又は第九十条第二項の
通信たるものを除く．第百九条において同じ．）を傍受してその存在若しくは
内容を漏らし、又はこれを窃用してはならない．"\cite{radio_act:2009}
と明記されている．つまり，管理者や同一セグメントに存在するユーザが，
他のユーザのパケットを取得した場合，同意を得た場合を除き，そこから判明した情報を漏らしてはいけない．
そのため，管理者はトラフィックから得た情報を秘匿する必要がある．

\section{情報収集者が取得できる情報}
ユーザのプライバシを守るために多くの規定や技術が提案されている．しかし，
ユーザも自身のプライバシを侵害するような情報はどのようなものがあるかを
知る必要がある．どのような情報を発信しているかを知ることで，守らなけれ
ばならない情報を明確にすることでよりプライバシの脅威を低減できるからで
ある．

本論文では，インターネットにおけるユーザのプライバシに焦点を当てて述べる．
その理由は，インターネットによって多くのユーザが時間場所を問わずに情報
のやりとりができるため，ホスト情報が利用者の個人情報となったためである．
日本におけるインターネット人口は1997年では572万人から，10年後の2007年に
は8227万人\cite{hakusho:2008}と爆発的に増加し，更に増え続けている．
ここから，日本人の大半の情報はネットワーク上から得る可能性があることを
示している．

ユーザのプライバシが脅かされる情報が取得されるかどうかは，情報収集者と情
報収集対象者とのネットワークの関係によって異なる．そこで，ネットワーク
における第三者，同一セグメントであるユーザ，ネットワークにおける管理者
の3パターンに分類して述べる．


\subsection{同じネットワークに接続していないユーザ}
\label{background:same}
同じネットワークに接続していないユーザが取得できる情報について述べる．

実際に，悪意のあるユーザがターゲットとするユーザと同一セグメント上に存
在しない場合を考察する．この場合，悪意あるユーザがとれる行動は非常に制
限されるが，主な手法としては以下のものが挙げられる．

\begin{itemize}
\item 有線・無線LAN\\
  　トラッキングするユーザが無線LANを利用している場合，インターフェース
  をプロミスキャストモードすることによって，情報を取得することが可能と
  なる．近年，無線LANのセキュリティであるWEPやWPAが破られつつあ
  り\cite{wpa:2009}，そのセキュリティを利用してるネットワークでは，ユー
  ザのプライバシが脅かされる可能性がある．プロミスキャストモードで得る
  ことができる情報はパケットのペイロードまで閲覧することが可能なため，
  暗号化されていない情報すべでは取得できる．また，有線LANの場合はスイッ
  チやハブにUTPケーブルを利用して，ホストと接続するだけで容易にネットワー
  クに接続が可能である．

\item Bluetooth\\
  　Bluetoothのペアリング時に送信するBluetoothデバイスアドレスを取得す
  ることによって，ホストの固有な識別要素を取得することができる．
  図\ref{fig:Bluetooth}にBluetoothの通信の概要を示す．

\begin{figure}
    \begin{center}
      \includegraphics[scale=0.50]{./pdf/pairing}
      \vspace{-5mm}
      \caption{Bluetoothの概要}
      \label{fig:Bluetooth}
    \end{center}
\end{figure}

　まず，はじめに通信する機器同士のペアリングモードをオンにする．本論文で
は通信する側をマスター，通信を受ける側をスレーブと定義する．次に，マス
ターはBluetoothの機器の探索を行い，通信したいモデムを選択する．選択時に，
スレーブは通信を試みるマスターに対してパスフレーズの要求をする．そして，
通信を行うマスターが正しいパスフレーズを入力することでBluetoothによる通
信が行われる．しかし，最初にペアリングモードをオンにする事は，周囲全体
に自身のBluetoothデバイスアドレスを送信しているため，ホスト識別に利用で
きる識別要素となる．Bluetoothデバイスアドレスの探索で
はBlueSoleil\cite{Bluesoleil:2009}というツールが存在する．このツールは，
図\ref{fig:Bluesoleil}のようにBluetoothを探索し，視覚的に表示するツール
である．

\begin{figure}
    \begin{center}
      \includegraphics[scale=0.40]{./figure/Bluesoleil.eps}
      \vspace{-5mm}
      \caption{Bluesoleil}
      \label{fig:Bluesoleil}
    \end{center}
    \vspace{-5mm}
\end{figure}


\item RFID\\
  　Radio Frequency Identification(RFID)は無線タグにより人やモノを識別，
  管理する技術全般を指す．タグ自身から数cmから数mの電波を発しているもの
  から，自身から電波を発しないパッシブタグと呼ばれるICタグなど幅広く存
  在する．RFIDを利用することで，ユーザの位置情報やものの場所の把握・管
  理を促進することができる．
  
\item Web検索，SNS\\
  　Web検索やSocial Network Serviceを利用してユーザの実世界における人間
  関係や行動を把握することができる．特に，SNSサイトでは写真やプロフィー
  ルを公開している場合が多々ある．それだけではなく，本人に関わる記事
  がWikipediaといったサイトに記載される場合があり，詳細な情報を得ること
  ができる．
\end{itemize}


\subsection{サービス提供者}
サービス・コンテンツ管理者が利用できる情報を挙げる．
\begin{itemize}
\item Cookie\\
  　Third-party Cookieを利用することでユーザを追跡すること
  が可能となる．その手法の一つとして，Webサーバを管理し，そこにアクセス
  するユーザのトラッキングが挙げられる．前述したCookieはユーザに即した
  データを取得できるという利点があるが，逆にそのCookieを利用することに
  よって，ユーザの行動履歴を把握することが可能となる．最近のサービス・コ
  ンテンツ提供者は，サーバを分散し，複数のドメイン間でデータのやり取り
  をしている場合がある．これを利用することでユーザのトラッキングが可能
  となる．

\item Webサーバのログ\\
  　Webサーバを設置することで，アクセスしたユーザのログを取得し，
  ユーザが利用するホストの情報を利用することが可能である．
  図\ref{itembox:apache}の例で挙げられるように，Apacheのlogを解析するこ
  とでアクセスしたホストの日時，ブラウザ名，アクセス元の国，OSを判別す
  ることができる．他にもCookieを利用している場合はCookieの値が出力される
  ため，ユーザがどのようにWebを一覧しているのか追跡することが可能であ
  る．

\begin{figure}
\label{itembox:apache}
\begin{screen}
  203.178.128.72 - - [10/Nov/2009:20:00:51 +0900]
  ``GET / HTTP/1.1'' 200 44 ``-'' ``Mozilla/5.0 (Macintosh; U; Intel
  Mac OS X 10.6; ja-JP-mac; rv:1.9.1.5) Gecko/20091102 Firefox/3.5
  .5 Jingoo/0.1.0''\\
  203.178.128.72 - - [10/Nov/2009:20:00:51 +0900]
  ``GET /favicon.ico HTTP/1.1'' 404 209 ``-'' ``Mozilla/5.0
  (Macintosh; U; Intel Mac OS X 10.6; ja-JP-mac; rv:1.9.1.5)
  Gecko/20091102 Firefox/3.5.5 Jingoo/0.1.0''\\
  203.178.128.72 - - [10/Nov/2009:20:00:54 +0900]\\
  ``GET /favicon.ico HTTP/1.1'' 404 209 ``-'' ``Mozilla/5.0
  (Macintosh; U; Intel Mac OS X 10.6; ja-JP-mac; rv:1.9.1.5)
  Gecko/20091102 Firefox/3.5.5 Jingoo/0.1.0''\\
  203.178.128.72 - - [10/Nov/2009:20:04:53 +0900] 
  ``GET /~nakajima/grah HTTP/1.1'' 301 251 ``-'' ``Mozilla/5.0
  (Macintosh; U; Intel Mac OS X 10.6; ja-JP-mac; rv:1.9.1.5)
  Gecko/20091 102 Firefox/3.5.5 Jingoo/0.1.0''\\
\end{screen}
\caption{Apache log}
\label{itembox:apache}
\end{figure}



\item Mailのログ\\
  受信したMailのヘッダ情報やMailサーバのログを閲覧することでホストを推
  測する．図\ref{itembox:mail}のように，利用ユーザのメールアドレスや，
  送信元のメールアドレスや転送している場合は，転送しているメールサーバ
  とアドレスの情報がログとして残る．

  \begin{figure}
    \begin{screen}
      Dec 20 00:00:40 mail postfix/local[4191]: 775544C138:
      to=<nakajima@sfc.wide.ad.jp>, relay=local, delay=0.04,
      delays=0.02/0/0/0.02, dsn=2.0.0, status=sent (delivered to maildir)\\
      Dec 20 00:00:40 mail postfix/local[4191]: 775544C138:
      to=<nakajima@sfc.wide.ad.jp>, relay=local, delay=0.05,
      delays=0.02/0/0/0.03, dsn=2.0.0, status=sent (forwarded as 7FC794
      C536)\\
      Dec 20 00:00:41 mail postfix/smtp[4800]:
      7FC794C536:to=nakajimapanda@gmail.com,\\
      orig\_to=nakajima@sfc.wide.ad.jp,
      relay=gmail-smtp-in.l.google.com[209.85.222.47]:25, delay=1.5,
      delays=0.01/0/0.61/0.85, dsn=2.0.0, status=sent (250 2.0.0 OK
      1261234841 13si1642044pzk.59)
    \end{screen}
    \caption{Mail log}
    \label{itembox:mail}
  \end{figure}
  
\item GPSサービス\\
  　Global Positioning System(GPS)は元は軍事用に開発されていたが，民間
  に開放されることで，GPSに関するサービスが施行された．
  近年は，GPS付き携帯電話が増えることで，容易に人の位置情報を得ることが
  できるようになった．GPSを利用するサービスは多数あり，NAVITIMEなどの道
  案内など多岐に渡る．容易にGPSを利用できるようになったが，GPS機器を保
  持したユーザを追跡が可能になるなどプライバシと密接な関わりがある．

\item SaaS\\
  　Software as a Service(SaaS)というサービスの提供者は，契約したユーザが
  利用したソフトウェアとその挙動を取得することができる．SaaSは契約した
  ユーザが必要な機能のみを選択してソフトウェア提供を受けるサービスであ
  る．契約内容やソフトウェアによってプライバシに関する情報は変化するが，
  一般的にはSaaS管理者は提供するソフトウェアにおいて個人情報を取得・
  管理することができる．

\item PaaS\\
  　Platform as a Service(PaaS)はSaaSを拡張し，プラットフォームや開発環
  境全般を提供するものである．SaaSに開発環境なども追加しているため，ソ
  フトウェアに限らないため，SaaSよりも情報全体を管理することができる．

\end{itemize}

\subsection{同一セグメントに存在するユーザ}
\label{background:sameuser}
同一セグメント上に存在するユーザはどのくらい情報を取得できるか考察する．
スイッチの技術向上によって，宛先と関係のないポートにはパケットを送信し
ないようになった．しかし，ホストは同一セグメントにおいてブロードキャス
ト，マルチキャストなどで様々な情報を送信している．同一セグメントにおい
てどのような情報が取得可能であるかを以下に挙げる．
\begin{itemize}
\item ARP\\
  　Address Resolution Protocol(ARP)は、イーサネット環境において，IPア
  ドレスからMACアドレスを得るために用いられるプロトコルである．ARPを利
  用することによって，ネットワークの構成や同じセグメントにいるホスト
  のMACアドレスやIPアドレスを取得することができる．しかし，スイッチなど
  ネットワークの構成で同じスイッチ間でしか情報を取得できない場合があ
  る．
\item mDNS\\
  　Multicast DNS(mDNS)はDNSの代わりに，サービスに関する情報を提供す
  る．mDNSはサービスの種類，ホスト名，IPアドレスやポート番号の情報が含
  まる．主にMacOSXで利用される傾向にあり，Bonjourなどファイル共有時に利
  用される傾向にある．

\item NetBIOS\\
  　SMBなどファイル共有のアプリケーションに利用されるネットワークサー
  ビスを呼び出すためのAPIの規約．MS-DOS環境で多く使われている．NetBIOS
  名はユーザやアプリケーションが自由に決定することが可能である．SMB
  などのファイル共有のアプリケーションはホスト名をNetBIOS名に利用してい
  るケースが多々ある．

\item DHCP\\
  ホストはIPアドレスを取得するために，Dynamic Host Configuration
  Protocol(DHCP)を利用する．その際に，DHCPサーバを検索するためにネット
  ワーク全体にブロードキャストをする．もし，DHCPサーバ探索をしているホ
  ストのMACアドレスを事前に入手しておけば，そのホストがいつネットワーク
  に参加し，離脱したかなどの情報を得ることができる．
  
\end{itemize}

\subsection{ネットワークを管理するユーザ}
\label{background:user_in_network}
ネットワーク管理者はどのくらいの情報を取得できるかを考察する．管理者は
ネットワークのポリシや構成に依存するが，非常に多くの情報を取得すること
ができる．本論文ではネットワーク管理者をネットワークポリシを自由に設定
できる権限を保有するユーザと定義する．そのためネットワーク上にあるすべての
パケットのペイロードを閲覧可能であると言える．

筆者は，ペイロードを閲覧することで，精度の高いプロファイルを作成できる
ユーザ識別システム\cite{uehara:2009}を実装した．このシステムは管理
者が動的に個人情報を取得・管理することにより，インシデント発生時の対
応を支援し，ユーザの利用や挙動に関する情報をIPアドレス
とひも付けIPアドレスを基準にしたユーザのプロファイル作成している．

このシステムでIPアドレスと結びつける情報はサービスのアカウント名を対象
としている．対象とするアプリケーションのIDはGoogleアカウント，Yahooアカ
ウント，MSNメッセンジャで使用するアカウント情報(メールアドレス)，Mixiア
カウントID，TwitterアカウントIDの5つとした．5つのアカウント名を識別要素
としてユーザのプロファイルを作成し，ホストの所有者を特定する．そのた
め，IPアドレスが変化しても同じアカウント名を利用しているとシステムが判
断すると一人のユーザに統合される．図\ref{fig:payload_profile}にアカウン
トを用いたユーザプロファイル作成の概要図を示す．

\begin{figure}
    \begin{center}
      \includegraphics[scale=0.50]{./pdf/profile}
      \caption{アカウントを用いたユーザプロファイル作成の概要図}
      \label{fig:payload_profile}
    \end{center}
\end{figure}

\begin{table}
\caption{ペイロード解析によるユーザ識別結果}
\label{tb:payload}
\begin{center}
\begin{tabular}{|c|c|c|}
\hline 
全ホスト数&識別したホスト数&検出割合\\
\hline 
128&81&63\%\\
\hline
\end{tabular}
\end{center}
\end{table}

このようなモデルで，トラフィックから個人情報を収集し，実際に筆者の所
属する研究室で検証した．研究室には100人程度のユーザが存在し，ホスト
は200台程度存在する．研究室のネットワークの上流でミラーリングをし，すべ
てのトラフィックを収集した．収集した期間は2009年1月21日15時57分か
ら1月22日15時56分である．

実験結果を表\ref{tb:payload}に示す．ユーザのプロファイルできたIPアドレ
ス数を，取得したIPアドレス総数で割ることによって導き出した．評価実験の
結果により，128台のホストのうち81台のホストのユーザを識別することができ
た．これはすべてのホストの63\%を識別している．筆者の研究室では常に起動
しているサーバが多数あるため，128台中81台までのホストを識別できたため，
有効であると言える．

このことから，利用サービスのアカウント名を取得するだけで，ネットワーク
において，ユーザの識別はホストを複数利用していても可能であり，プライバ
シの脅威となる．

\section{複数の情報統合によるリスク}
前述した手法やユーザの同意を得ることでユーザのプライバシを脅かさずに，
もしくは同意の上で情報を取得することができるようになった反面，個々の情
報だけ保護することの意味が無い場合が多々ある．例えば，保護した情報を複
数集めることによってプライバシに脅威を与える場合や，個人情報に値しない
情報を複数提供することによって個人がトラッキングされるケースが多々ある．
そのため，どのような情報を統合されるとユーザのプライバシが脅かされるか
を認識しなければならない．

複数の個人情報が統合される場合，どのようなことが判別できるのか．前述し
た識別要素を組み合わせることで，よりユーザのプロファイルの作成が可能と
なる．例えば，クレジットカードの利用履歴とそのクレジットカードを利用し
たホストのMACアドレスを利用することで，特定のユーザの場所や通信をトラッ
キングできる．他にも，トラッキングを目標としているユーザのMACアドレスを
保持している場合，Apacheのログを組み合わせることでホストの利用してい
るWebブラウザやOSなどの情報を結びつけてプロファイルを作成される危険があ
る．

\section{本論文の着眼点}
本論文は，第\ref{background:passive}節で述べた，ユーザが発信する情報を
受動的に取得できる手法に着目し，中でも第\ref{background:thread}節で述べ
たホスト情報を対象とする．ホストが発信する情報はユーザのプライバシとな
る要因を多く含んでいるため，ホストの情報のプロファイルを作成することは
ユーザのプライバシを脅かす可能性が高いためである．また，ホストが定常的
に情報を発信しているため，情報の取得が容易であることも一因である．これ
らの理由から，本論文ではホストやユーザのプロファイルを作成する手法を提
案する．これらの情報を利用することによって，ユーザが常に発信している情
報がプライバシを脅かす可能性があるかを検討する．

\section{まとめ}
本章では，デジタル情報の収集を3つのモデルに分類し，その中でユーザの識別
子となる情報の具体的な例を挙げた．ユーザのプライバシは法律や技術で保護
されているが，複数の情報を組み合わせることによって，脅かされる場合があ
ることを示した．しかし，サービス・コンテンツ事業者はユーザから取得した
情報から，ユーザに応じたサービスを提供する必要がある．そのため，ユーザ
は個人情報を提供するかわりに，サービスを受けるというトレードオフが少な
からず存在する．そこで，それに伴った個人情報を考慮した情報技術が必要で
ある．また，ユーザは自身に関する情報をどの程度発信しているか知り，何を
守るべきかを明確にする必要がある．そして，どのような情報を組み合わせる
とプライバシの侵害になるかを検証する．

%%% Local Variables:
%%% mode: japanese-latex
%%% TeX-master: "../nakajima_bthesis"
%%% End:
